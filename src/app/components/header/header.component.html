<header class="bg-background border-b border-border">
  <div class="container py-4 flex justify-between items-center">
    <a routerLink="/" class="text-2xl font-bold text-primary hover:text-primary/80 transition-colors">Geeno</a>
    <button class="lg:hidden z-50" (click)="toggleMenu()">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="w-6 h-6">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16m-7 6h7" />
      </svg>
    </button>
    <nav class="hidden lg:flex items-center space-x-4">
      <ng-container *ngIf="(authService.isAuthenticated$ | async); else unauthenticatedDesktopNav">
        <a routerLink="/pets" routerLinkActive="text-primary" class="hover:text-primary transition-colors">My Pets</a>
        <a routerLink="/appointments" routerLinkActive="text-primary" class="hover:text-primary transition-colors">Appointments</a>
        <a routerLink="/profile" routerLinkActive="text-primary" class="hover:text-primary transition-colors">Profile</a>
        <app-button (click)="signOut()">Sign Out</app-button>
      </ng-container>
      <ng-template #unauthenticatedDesktopNav>
        <a routerLink="/signin" routerLinkActive="text-primary" class="hover:text-primary transition-colors">Sign In</a>
        <a routerLink="/signup" routerLinkActive="text-primary" class="hover:text-primary transition-colors">Sign Up</a>
      </ng-template>
      <app-theme-toggle></app-theme-toggle>
    </nav>
  </div>
  <div class="lg:hidden">
    <div class="fixed inset-0 z-40 transition-opacity duration-300"
         [class.opacity-0]="!isMenuOpen"
         [class.opacity-100]="isMenuOpen"
         [class.pointer-events-none]="!isMenuOpen"
         (click)="toggleMenu()"></div>
    <nav class="fixed top-0 right-0 bottom-0 w-64 backdrop-blur-xl border-l border-border p-6 overflow-y-auto transition-transform duration-300 ease-in-out z-50"
         [class.translate-x-full]="!isMenuOpen"
         [class.translate-x-0]="isMenuOpen">
      <div class="flex flex-col space-y-4">
        <ng-container *ngIf="(authService.isAuthenticated$ | async); else unauthenticatedMobileNav">
          <a routerLink="/pets" routerLinkActive="text-primary" class="hover:text-primary transition-colors">My Pets</a>
          <a routerLink="/appointments" routerLinkActive="text-primary" class="hover:text-primary transition-colors">Appointments</a>
          <a routerLink="/profile" routerLinkActive="text-primary" class="hover:text-primary transition-colors">Profile</a>
          <app-button (click)="signOut()">Sign Out</app-button>
        </ng-container>
        <ng-template #unauthenticatedMobileNav>
          <a routerLink="/signin" routerLinkActive="text-primary" class="hover:text-primary transition-colors">Sign In</a>
          <a routerLink="/signup" routerLinkActive="text-primary" class="hover:text-primary transition-colors">Sign Up</a>
        </ng-template>
        <app-theme-toggle></app-theme-toggle>
      </div>
    </nav>
  </div>
</header>